
<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Newsletter — Getickets.bt</title>
<link rel="stylesheet" href="/style.css"/></head><body>

<header class="header"><div class="container bar">
  <div class="logo">Getickets.bt</div>
  <nav class="nav">
    <a href="/#events">Events</a>
    <a href="/about">About</a>
    <a href="/contact">Contact</a>
    <a href="/newsletter">Newsletter</a>
    <a href="/privacy">Privacy</a>
    <a href="/checkin">Check-in</a>
  </nav>
</div></header>

<main class="container section">
  <h2>Newsletter</h2>
  <p>Subscribe to updates about movies, concerts, and festivals in Bhutan.</p>
  <form id="newsForm" class="form">
    <label for="nemail">Email</label>
    <input id="nemail" type="email" required/>
    <button class="btn primary" type="submit">Subscribe</button>
    <p class="helper">Demo only — optionally emails the owner if configured.</p>
  </form>
</main>

<footer class="footer"><div class="container wrap">
  <a href="/about">About</a> • <a href="/contact">Contact</a> • <a href="/newsletter">Newsletter</a> • <a href="/privacy">Privacy</a>
  <div style="flex-basis:100%;height:0"></div>© Getickets.bt — Demo only
</div></footer>

<script>
document.getElementById('newsForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const email = document.getElementById('nemail').value;
  try {
    const r = await fetch('/api/newsletter', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ email }) });
    const j = await r.json();
    alert(j.ok ? 'Subscribed (demo)!' : ('Failed: '+(j.error||'unknown')));
  } catch(err) { alert('Network error'); }
});
</script>
</body></html>
